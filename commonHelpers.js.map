{"version":3,"file":"commonHelpers.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst apiInstance = axios.create({\n  baseURL: 'https://dummyjson.com',\n});\n\nexport default apiInstance;\n","import apiInstance from '../services/api.js';\n\nexport async function getAllProducts() {\n  try {\n    const { data } = await apiInstance.get('/products');\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function getProductById(id) {\n  try {\n    const { data } = await apiInstance.get(`/products/${id}`);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function addProduct(newProduct) {\n  try {\n    const { data } = await apiInstance.post(`/products/add`, newProduct);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","export function createMarkupAllProducts(products) {\n  return products\n    .map(\n      ({ thumbnail, title, description }) => `<li class=\"list-card\">\n        <img src=\"${thumbnail}\" alt=\"${title}\" />\n        <h3>${title}</h3>\n        <p class=\"description\">${description}</p>\n      </li>`\n    )\n    .join('');\n}\n\nexport function createMarkupOneProduct({ thumbnail, title, description }) {\n  return `<div class=\"list-card\">\n        <img src=\"${thumbnail}\" alt=\"${title}\" />\n        <h3>${title}</h3>\n        <p class=\"description\">${description}</p>\n      </div>`;\n}\n\nexport function createMarkupNewProduct({ title, description, price }) {\n  return `<div class=\"list-card\">\n        <h3>${title}</h3>\n        <p class=\"description\">${description}</p>\n        <p class=\"description\">${price}</p>\n      </div>`;\n}\n","import './styles/normalize.css';\nimport './styles/index.css';\nimport {\n  getAllProducts,\n  getProductById,\n  addProduct,\n} from './requests/products';\nimport {\n  createMarkupAllProducts,\n  createMarkupOneProduct,\n  createMarkupNewProduct,\n} from './services/markupService';\n\nconst container = document.querySelector('#allProducts');\nconst productForm = document.querySelector('#singleProductForm');\nconst singleProduct = document.querySelector('#singleProduct');\nconst newProductForm = document.querySelector('#newProductForm');\nconst newProductSection = document.querySelector('#newProductSection');\n\nproductForm.addEventListener('submit', renderProductById);\nnewProductForm.addEventListener('submit', handleNewProduct);\n// getAllProducts()\n//   .then(data => {\n//     container.insertAdjacentHTML(\n//       'beforeend',\n//       createMarkupAllProducts(data.products)\n//     );\n//   })\n//   .catch(error => console.log(error));\n\nasync function renderAllProducts() {\n  const data = await getAllProducts();\n  container.insertAdjacentHTML(\n    'beforeend',\n    createMarkupAllProducts(data.products)\n  );\n}\n\nasync function renderProductById(event) {\n  event.preventDefault();\n\n  singleProduct.innerHTML = '';\n\n  const inputValueId = event.target.elements.id.value;\n\n  const productById = await getProductById(inputValueId);\n\n  singleProduct.insertAdjacentHTML(\n    'beforeend',\n    createMarkupOneProduct(productById)\n  );\n\n  event.target.reset();\n}\n\nrenderAllProducts();\n\nasync function handleNewProduct(event) {\n  event.preventDefault();\n\n  const title = event.target.elements.title.value;\n  const description = event.target.elements.description.value;\n  const price = event.target.elements.price.value;\n\n  const newProductObj = { title, description, price };\n\n  const addedProduct = await addProduct(newProductObj);\n\n  newProductSection.innerHTML = '';\n\n  newProductSection.insertAdjacentHTML(\n    'beforeend',\n    createMarkupNewProduct(addedProduct)\n  );\n}\n"],"names":["apiInstance","axios","getAllProducts","data","error","getProductById","id","addProduct","newProduct","createMarkupAllProducts","products","thumbnail","title","description","createMarkupOneProduct","createMarkupNewProduct","price","container","productForm","singleProduct","newProductForm","newProductSection","renderProductById","handleNewProduct","renderAllProducts","event","inputValueId","productById","addedProduct"],"mappings":"svBACA,MAAMA,EAAcC,EAAM,OAAO,CAC/B,QAAS,uBACX,CAAC,ECDM,eAAeC,GAAiB,CACrC,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMH,EAAY,IAAI,WAAW,EAClD,OAAOG,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,eAAeC,EAAeC,EAAI,CACvC,GAAI,CACF,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMH,EAAY,IAAI,aAAaM,GAAI,EACxD,OAAOH,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,eAAeG,EAAWC,EAAY,CAC3C,GAAI,CACF,KAAM,CAAE,KAAAL,CAAM,EAAG,MAAMH,EAAY,KAAK,gBAAiBQ,CAAU,EACnE,OAAOL,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CC3BO,SAASK,EAAwBC,EAAU,CAChD,OAAOA,EACJ,IACC,CAAC,CAAE,UAAAC,EAAW,MAAAC,EAAO,YAAAC,CAAa,IAAK;AAAA,oBACzBF,WAAmBC;AAAA,cACzBA;AAAA,iCACmBC;AAAA,YAE5B,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAuB,CAAE,UAAAH,EAAW,MAAAC,EAAO,YAAAC,CAAW,EAAI,CACxE,MAAO;AAAA,oBACWF,WAAmBC;AAAA,cACzBA;AAAA,iCACmBC;AAAA,aAEjC,CAEO,SAASE,EAAuB,CAAE,MAAAH,EAAO,YAAAC,EAAa,MAAAG,CAAK,EAAI,CACpE,MAAO;AAAA,cACKJ;AAAA,iCACmBC;AAAA,iCACAG;AAAA,aAEjC,CCbA,MAAMC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAiB,SAAS,cAAc,iBAAiB,EACzDC,EAAoB,SAAS,cAAc,oBAAoB,EAErEH,EAAY,iBAAiB,SAAUI,CAAiB,EACxDF,EAAe,iBAAiB,SAAUG,CAAgB,EAU1D,eAAeC,GAAoB,CACjC,MAAMrB,EAAO,MAAMD,IACnBe,EAAU,mBACR,YACAR,EAAwBN,EAAK,QAAQ,CACzC,CACA,CAEA,eAAemB,EAAkBG,EAAO,CACtCA,EAAM,eAAc,EAEpBN,EAAc,UAAY,GAE1B,MAAMO,EAAeD,EAAM,OAAO,SAAS,GAAG,MAExCE,EAAc,MAAMtB,EAAeqB,CAAY,EAErDP,EAAc,mBACZ,YACAL,EAAuBa,CAAW,CACtC,EAEEF,EAAM,OAAO,OACf,CAEAD,IAEA,eAAeD,EAAiBE,EAAO,CACrCA,EAAM,eAAc,EAEpB,MAAMb,EAAQa,EAAM,OAAO,SAAS,MAAM,MACpCZ,EAAcY,EAAM,OAAO,SAAS,YAAY,MAChDT,EAAQS,EAAM,OAAO,SAAS,MAAM,MAIpCG,EAAe,MAAMrB,EAFL,CAAE,MAAAK,EAAO,YAAAC,EAAa,MAAAG,CAAK,CAEE,EAEnDK,EAAkB,UAAY,GAE9BA,EAAkB,mBAChB,YACAN,EAAuBa,CAAY,CACvC,CACA"}